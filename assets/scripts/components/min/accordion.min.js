!function(t){var i;window.FatKit&&(i=t(FatKit)),"function"==typeof define&&define.amd&&define("fatkit-accordion",["fatkit"],function(){return i||t(FatKit)})}(function(t){"use strict";function i(i){var o=t.$(i),a="auto";if(o.is(":visible"))a=o.outerHeight();else{var e={position:o.css("position"),visibility:o.css("visibility"),display:o.css("display")};a=o.css({position:"absolute",visibility:"hidden",display:"block"}).outerHeight(),o.css(e)}return a}return t.component("accordion",{defaults:{showfirst:!0,collapse:!0,animate:!0,easing:"swing",duration:300,toggle:".f-accordion-title",containers:".f-accordion-content",clsactive:"f-active"},boot:function(){t.ready(function(i){setTimeout(function(){t.$("[data-f-accordion]",i).each(function(){var i=t.$(this);i.data("accordion")||t.accordion(i,t.Utils.options(i.attr("data-f-accordion")))})},0)})},init:function(){var i=this;this.element.on("click.fatkit.accordion",this.options.toggle,function(o){o.preventDefault(),i.toggleItem(t.$(this).data("wrapper"),i.options.animate,i.options.collapse)}),this.update(),this.options.showfirst&&this.toggleItem(this.toggle.eq(0).data("wrapper"),!1,!1)},toggleItem:function(o,a,e){var n=this;o.data("toggle").toggleClass(this.options.clsactive);var s=o.data("toggle").hasClass(this.options.clsactive);e&&(this.toggle.not(o.data("toggle")).removeClass(this.options.clsactive),this.content.not(o.data("content")).parent().stop().animate({height:0},{easing:this.options.easing,duration:a?this.options.duration:0})),a?o.stop().animate({height:s?i(o.data("content")):0},{easing:this.options.easing,duration:this.options.duration,complete:function(){s&&(t.Utils.checkDisplay(o.data("content")),o.height("auto")),n.trigger("display.fatkit.check")}}):(o.stop().height(s?"auto":0),s&&t.Utils.checkDisplay(o.data("content")),this.trigger("display.fatkit.check")),this.element.trigger("toggle.fatkit.accordion",[s,o.data("toggle"),o.data("content")])},update:function(){var i,o,a,e=this;this.toggle=this.find(this.options.toggle),this.content=this.find(this.options.containers),this.content.each(function(n){i=t.$(this),o=i.parent().data("wrapper")?i.parent():t.$(this).wrap('<div data-wrapper="true" style="overflow:hidden;height:0;position:relative;"></div>').parent(),a=e.toggle.eq(n),o.data("toggle",a),o.data("content",i),a.data("wrapper",o),i.data("wrapper",o)}),this.element.trigger("update.fatkit.accordion",[this])}}),t.accordion});