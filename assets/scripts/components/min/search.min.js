!function(e){var t;window.FatKit&&(t=e(FatKit)),"function"==typeof define&&define.amd&&define("fatkit-search",["fatkit"],function(){return t||e(FatKit)})}(function(e){"use strict";e.component("search",{defaults:{msgResultsHeader:"Search Results",msgMoreResults:"More Results",msgNoResults:"No results found",template:'<ul class="f-nav f-nav-search f-autocomplete-results">									  {{#msgResultsHeader}}<li class="f-nav-header f-skip">{{msgResultsHeader}}</li>{{/msgResultsHeader}}									  {{#items && items.length}}										  {{~items}}										  <li data-url="{{!$item.url}}">											  <a href="{{!$item.url}}">												  {{{$item.title}}}												  {{#$item.text}}<div>{{{$item.text}}}</div>{{/$item.text}}											  </a>										  </li>										  {{/items}}										  {{#msgMoreResults}}											  <li class="f-nav-divider f-skip"></li>											  <li class="f-search-moreresults" data-moreresults="true"><a href="#" onclick="jQuery(this).closest(\'form\').submit();">{{msgMoreResults}}</a></li>										  {{/msgMoreResults}}									  {{/end}}									  {{^items.length}}										{{#msgNoResults}}<li class="f-skip"><a>{{msgNoResults}}</a></li>{{/msgNoResults}}									  {{/end}}								  </ul>',renderer:function(e){var t=this.options;this.dropdown.append(this.template({items:e.results||[],msgResultsHeader:t.msgResultsHeader,msgMoreResults:t.msgMoreResults,msgNoResults:t.msgNoResults})),this.show()}},boot:function(){e.$html.on("focus.search.fatkit","[data-f-search]",function(){var t=e.$(this);if(!t.data("search")){e.search(t,e.Utils.options(t.attr("data-f-search")))}})},init:function(){var t=this;this.autocomplete=e.autocomplete(this.element,this.options),this.autocomplete.dropdown.addClass("f-dropdown-search"),this.autocomplete.input.on("keyup",function(){t.element[t.autocomplete.input.val()?"addClass":"removeClass"]("f-active")}).closest("form").on("reset",function(){t.value="",t.element.removeClass("f-active")}),this.on("select.f.autocomplete",function(e,s){s.url?location.href=s.url:s.moreresults&&t.autocomplete.input.closest("form").submit()}),this.element.data("search",this)}})});